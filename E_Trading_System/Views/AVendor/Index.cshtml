@model IEnumerable<E_Trading_System.Models.Vendor>
 
@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
 
<!DOCTYPE html>

<html>

<head>

    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>@ViewBag.Title</title>

    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />

    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: darkslategray;
            padding: 20px;
        }

        h2 {
            margin-bottom: 20px;
            text-align: center;
            color: white;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #ddd;
            margin-bottom: 20px;
        }

        th, td {
            padding: 10px;
            color: white;
            border: 1px solid #ddd;
            text-align: center;
        }

        th {
            background-color: black;
            color: white;
        }


        tr:nth-child(even) {
            background-color: black;
        }

        tr:nth-child(odd) {
            background-color: black;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
        }

            .action-buttons a {
                margin-right: 5px;
            }
          
    </style>

</head>

<body>

    <br /><br />

    <h2>Vendor Information</h2>
 
    <!-- Form to search for vendors by name -->

    <div class="form-group">

        <label for="vendorName" style="color:black">Enter Vendor Name:</label>

        <input type="text" name="vendorName" id="vendorName" class="form-control" required>

    </div>
 
    <table class="table">

        <thead>

            <tr>

                <th>Vendor Name</th>

                <th>Vendor Email</th>

                <th>Mobile Number</th>

                <th>Address</th>

                <th>Category</th>

                <th>Vendor Age</th>

                <th>Password</th>

                <th>Hint Answer</th>

                <th>Status</th>

                <th>Hint Questions</th>

                <th>Actions</th>

            </tr>

        </thead>

        <tbody>

            @foreach (var item in Model)

            {

                <tr>

                    <td>@Html.DisplayFor(modelItem => item.Vendor_Name)</td>

                    <td>@Html.DisplayFor(modelItem => item.Vendor_Email)</td>

                    <td>@Html.DisplayFor(modelItem => item.Mobile_Number)</td>

                    <td>@Html.DisplayFor(modelItem => item.Address)</td>

                    <td>@Html.DisplayFor(modelItem => item.Category)</td>

                    <td>@Html.DisplayFor(modelItem => item.Vendor_Age)</td>

                    <td>@Html.DisplayFor(modelItem => item.Passowrd)</td>

                    <td>@Html.DisplayFor(modelItem => item.Hint_Answers)</td>

                    <td>@Html.DisplayFor(modelItem => item.Status)</td>

                    <td>@Html.DisplayFor(modelItem => item.Hint.Questions)</td>

                    <td class="action-buttons">

                        @Html.ActionLink("Details", "Details", new { id = item.Vendor_Id }, new { @class = "btn btn-primary btn-sm" })

                        @if (item.Status == "Active")

                        {

                            @Html.ActionLink("Delete", "Delete", new { id = item.Vendor_Id }, new { @class = "btn btn-danger btn-sm" })

                        }

                        else

                        {

                            @Html.ActionLink("Activate", "Delete", new { id = item.Vendor_Id }, new { @class = "btn btn-success btn-sm" })

                        }

                    </td>

                </tr>

            }

        </tbody>

    </table>
 
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>

        $(function () {

            $("#vendorName").on("input", function () {

                var input = $(this).val().toLowerCase();

                $("table tbody tr").each(function () {

                    var name = $(this).find("td:first").text().toLowerCase();

                    if (name.includes(input)) {

                        $(this).show();

                    } else {

                        $(this).hide();

                    }

                });

            });

        });

    </script>

</body>

</html>
